{
  "swagger": "2.0",
  "info": {
    "title": "Eyedeea Photos API",
    "description": "Eyedeea Photos is an app designed to bring forgotten memories back to life. It integrates with Synology Photos & any USB, HDD, SDD to display random photos from the collection.",
    "version": "1.0.0",
    "contact": {
      "name": "Eyedia Technologies"
    }
  },
  "host": "localhost:8080",
  "basePath": "/api",
  "schemes": ["http", "https"],
  "consumes": ["application/json"],
  "produces": ["application/json", "image/jpeg", "text/plain"],
  "paths": {
    "/view": {
      "get": {
        "summary": "Get random photo",
        "description": "Fetches a random photo from the collection",
        "tags": ["View"],
        "responses": {
          "200": {"description": "Photo retrieved successfully"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/config": {
      "get": {
        "summary": "Get viewer configuration",
        "tags": ["View"],
        "responses": {
          "200": {"description": "Configuration retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/photos": {
      "get": {
        "summary": "Get photo list",
        "tags": ["View"],
        "responses": {
          "200": {"description": "Photos retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/photos/{photo_id}": {
      "get": {
        "summary": "Get specific photo",
        "tags": ["View"],
        "parameters": [{"name": "photo_id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Photo retrieved"},
          "404": {"description": "Not found"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "delete": {
        "summary": "Delete photo",
        "tags": ["View"],
        "parameters": [{"name": "photo_id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Deleted"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/{photo_id}/dns": {
      "post": {
        "summary": "Add DNS tag",
        "tags": ["View"],
        "parameters": [{"name": "photo_id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Tag added"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/{photo_id}/mark": {
      "post": {
        "summary": "Add mark tag",
        "tags": ["View"],
        "parameters": [{"name": "photo_id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Tag added"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/filters": {
      "get": {
        "summary": "List filters",
        "tags": ["View"],
        "responses": {
          "200": {"description": "Filters retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "post": {
        "summary": "Create filter",
        "tags": ["View"],
        "responses": {
          "201": {"description": "Filter created"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/filters/{id}": {
      "get": {
        "summary": "Get filter",
        "tags": ["View"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Filter retrieved"},
          "404": {"description": "Not found"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "delete": {
        "summary": "Delete filter",
        "tags": ["View"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Deleted"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/filters/active": {
      "post": {
        "summary": "Set default filter",
        "tags": ["View"],
        "responses": {
          "200": {"description": "Filter set"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/view/filters/{id}/active": {
      "post": {
        "summary": "Activate filter",
        "tags": ["View"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Filter activated"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources": {
      "get": {
        "summary": "List all sources",
        "tags": ["Sources"],
        "responses": {
          "200": {"description": "Sources retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "post": {
        "summary": "Create source",
        "tags": ["Sources"],
        "responses": {
          "201": {"description": "Source created"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}": {
      "get": {
        "summary": "Get source",
        "tags": ["Sources"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Source retrieved"},
          "404": {"description": "Not found"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "delete": {
        "summary": "Delete source",
        "tags": ["Sources"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Deleted"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/dirs": {
      "get": {
        "summary": "Get directories",
        "tags": ["Sources"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Directories retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/dirs/{dir_id}": {
      "get": {
        "summary": "Get photos in directory",
        "tags": ["Sources"],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {"name": "dir_id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "Photos retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/purge": {
      "post": {
        "summary": "Purge source references",
        "tags": ["Sources"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Purged"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/scan": {
      "post": {
        "summary": "Start scan",
        "tags": ["Scan"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Scan started"},
          "503": {"description": "Scan in progress"},
          "500": {"description": "Internal Server Error"}
        }
      },
      "get": {
        "summary": "Check scan status",
        "tags": ["Scan"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Status retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/scan/logs": {
      "get": {
        "summary": "Get scan logs",
        "tags": ["Scan"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Logs retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/scan/logs/{view_log_id}": {
      "get": {
        "summary": "Get scan log entry",
        "tags": ["Scan"],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {"name": "view_log_id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "Log retrieved"},
          "404": {"description": "Not found"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/browse": {
      "get": {
        "summary": "Browse root folders",
        "tags": ["Browse"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Folders retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/browse/persons": {
      "get": {
        "summary": "Get persons",
        "tags": ["Browse"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Persons retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/browse/{folder_id}": {
      "get": {
        "summary": "Get sub-folders",
        "tags": ["Browse"],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {"name": "folder_id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "Folders retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/browse/{folder_id}/items": {
      "get": {
        "summary": "Get items in folder",
        "tags": ["Browse"],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "type": "integer"},
          {"name": "folder_id", "in": "path", "required": true, "type": "integer"}
        ],
        "responses": {
          "200": {"description": "Items retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/sources/{id}/browse/stats": {
      "get": {
        "summary": "Get statistics",
        "tags": ["Browse"],
        "parameters": [{"name": "id", "in": "path", "required": true, "type": "integer"}],
        "responses": {
          "200": {"description": "Stats retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/drives": {
      "get": {
        "summary": "List drives",
        "tags": ["Drives"],
        "responses": {
          "200": {"description": "Drives retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/drives/directories": {
      "get": {
        "summary": "Get directories (hierarchical)",
        "tags": ["Drives"],
        "parameters": [{"name": "path", "in": "query", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Directories retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/drives/directories/flat": {
      "get": {
        "summary": "Get directories (flat)",
        "tags": ["Drives"],
        "parameters": [{"name": "path", "in": "query", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Directories retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/drives/validate": {
      "post": {
        "summary": "Validate path",
        "tags": ["Drives"],
        "responses": {
          "200": {"description": "Path valid"},
          "400": {"description": "Path invalid"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/system": {
      "get": {
        "summary": "Get system summary",
        "tags": ["System"],
        "responses": {
          "200": {"description": "Summary retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/system/search": {
      "get": {
        "summary": "Global search",
        "tags": ["System"],
        "parameters": [{"name": "keywords", "in": "query", "required": true, "type": "string"}],
        "responses": {
          "200": {"description": "Results retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/system/status": {
      "get": {
        "summary": "Get system status",
        "tags": ["System"],
        "responses": {
          "200": {"description": "Status retrieved"}
        }
      }
    },
    "/system/logs": {
      "get": {
        "summary": "Get system logs",
        "tags": ["System"],
        "produces": ["text/plain"],
        "responses": {
          "200": {"description": "Logs retrieved"},
          "500": {"description": "Internal Server Error"}
        }
      }
    },
    "/version": {
      "get": {
        "summary": "Get version",
        "tags": ["Version"],
        "responses": {
          "200": {"description": "Version retrieved"}
        }
      }
    },
    "/version/check-updates": {
      "get": {
        "summary": "Check for updates",
        "tags": ["Version"],
        "responses": {
          "200": {"description": "Update check completed"}
        }
      }
    }
  },
  "tags": [
    {"name": "View", "description": "Photo viewing and filters"},
    {"name": "Sources", "description": "Photo source management"},
    {"name": "Scan", "description": "Source scanning"},
    {"name": "Browse", "description": "Browse photos and folders"},
    {"name": "Drives", "description": "Drive operations"},
    {"name": "System", "description": "System operations"},
    {"name": "Version", "description": "Version information"}
  ]
}
